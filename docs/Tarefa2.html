<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Nesta tarefa, tinhamos como objetivo determinar o efeito de uma jogada no estado de jogo (dada uma descri&#231;&#227;o do estado do jogo e uma jogada de um dos jogadores).</p><h1>Metas</h1><p>Tal como mencionado na introdu&#231;&#227;o, a meta desta tarefa era determinar o efeito de uma jogada no estado do jogo (sabendo que esta tarefa apenas exigia a implementa&#231;&#227;o de realiza&#231;&#227;o de jogadas para jogadores do tipo Pacman).
Cada jogada consiste na movimenta&#231;&#227;o de um jogador identificado com o seu &#250;nico ID (para todas as dire&#231;&#245;es poss&#237;veis, isto &#233;, cima, baixo, direita, esquerda) e atualizar
o efeito dessa jogada no labirinto atual (fun&#231;&#227;o objetivo da tarefa <code><a href="Tarefa2.html#v:play" title="Tarefa2">play</a></code>). Para tal, tivemos de criar as fun&#231;&#245;es que de certo modo, traduziam as rea&#231;&#245;es do jogadores e/ou
do labirinto face a todas as poss&#237;veis situa&#231;&#245;es, criando deste modo todos os poss&#237;veis resultados.</p><h1>Conclus&#227;o</h1><p>Concluindo este resumo da tarefa 2, afirmamos que, esta foi a tarefa mais trabalhosa da primeira parte do trabalho pr&#225;tico, que no entanto, apesar de v&#225;rias altera&#231;&#245;es no c&#243;digo,
de forma a que a tarefa fosse completa corretamente e, eventualmente, de maneira a que a qualidade do c&#243;digo fosse melhorada, pensamos que o nosso trabalho foi bastante satisfat&#243;rio, passando
em todos os testes no sistema de avalia&#231;&#227;o dos professores.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:freezePlayers">freezePlayers</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:updateMaze">updateMaze</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></li><li class="src short"><a href="#v:gameWithMega">gameWithMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:checkPlayers">checkPlayers</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:playersWithSameCoords">playersWithSameCoords</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:actionPlayerPlayer">actionPlayerPlayer</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:teleportToHouse">teleportToHouse</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:joinHouse">joinHouse</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Bool</li><li class="src short"><a href="#v:playerMaze">playerMaze</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:checkNextPiece">checkNextPiece</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:checkPiece">checkPiece</a> :: Int -&gt; <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:actionPlayerPiece">actionPlayerPiece</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:pacmanDefaultMegaTime">pacmanDefaultMegaTime</a> :: Double</li><li class="src short"><a href="#v:setPlayerOrientation">setPlayerOrientation</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:getPlayerCoordsByID">getPlayerCoordsByID</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:verifyNewMega">verifyNewMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:verifyNoMega">verifyNoMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:turnGhostsAlive">turnGhostsAlive</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:turnGhostsDead">turnGhostsDead</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:invertOrientation">invertOrientation</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:getNewCoords">getNewCoords</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:tunnelTeleport">tunnelTeleport</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:middleHeight">middleHeight</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li><li class="src short"><a href="#v:middleWidth">middleWidth</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li><li class="src short"><a href="#v:mazeWidth">mazeWidth</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:play" class="def">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:play" class="selflink">#</a></p><div class="doc"><p>Faz uma jogada sobre um determinado jogador e devolve um novo estado do jogo.</p></div></div><div class="top"><p class="src"><a id="v:freezePlayers" class="def">freezePlayers</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:freezePlayers" class="selflink">#</a></p><div class="doc"><p>Congela todos os jogadores.</p></div></div><div class="top"><p class="src"><a id="v:updateMaze" class="def">updateMaze</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> <a href="#v:updateMaze" class="selflink">#</a></p><div class="doc"><p>Altera o labirinto.</p></div></div><div class="top"><p class="src"><a id="v:gameWithMega" class="def">gameWithMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:gameWithMega" class="selflink">#</a></p><div class="doc"><p>Consoante o estado do jogo onde haja ou n&#227;o algum jogador Pacman em modo Mega, altera o estado dos fantasmas.</p></div></div><div class="top"><p class="src"><a id="v:checkPlayers" class="def">checkPlayers</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:checkPlayers" class="selflink">#</a></p><div class="doc"><p>Compara um jogador com v&#225;rios e altera o seu estado caso seja ncess&#225;rio.</p></div></div><div class="top"><p class="src"><a id="v:playersWithSameCoords" class="def">playersWithSameCoords</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playersWithSameCoords" class="selflink">#</a></p><div class="doc"><p>Verifica se tem jogadores na mesma coordenada e devolve o jogador com estado alterado.</p></div></div><div class="top"><p class="src"><a id="v:actionPlayerPlayer" class="def">actionPlayerPlayer</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:actionPlayerPlayer" class="selflink">#</a></p><div class="doc"><p>Muda o estado de um jogador consoante o jogador em que embate.</p></div></div><div class="top"><p class="src"><a id="v:teleportToHouse" class="def">teleportToHouse</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:teleportToHouse" class="selflink">#</a></p><div class="doc"><p>Teletransporta um fantasma para a casa de fantasmas.</p></div></div><div class="top"><p class="src"><a id="v:joinHouse" class="def">joinHouse</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; Bool <a href="#v:joinHouse" class="selflink">#</a></p><div class="doc"><p>Verifica se o jogador vai entrar na casa.</p></div></div><div class="top"><p class="src"><a id="v:playerMaze" class="def">playerMaze</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:playerMaze" class="selflink">#</a></p><div class="doc"><p>Rela&#231;&#227;o jogador &amp; labirinto.</p></div></div><div class="top"><p class="src"><a id="v:checkNextPiece" class="def">checkNextPiece</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:checkNextPiece" class="selflink">#</a></p><div class="doc"><p>Procura no labirinto a pe&#231;a na posi&#231;&#227;o para a qual um jogador transita.</p></div></div><div class="top"><p class="src"><a id="v:checkPiece" class="def">checkPiece</a> :: Int -&gt; <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:checkPiece" class="selflink">#</a></p><div class="doc"><p>Devolve a pe&#231;a que se encontra na posi&#231;&#227;o para a qual um jogador transita.</p></div></div><div class="top"><p class="src"><a id="v:actionPlayerPiece" class="def">actionPlayerPiece</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:actionPlayerPiece" class="selflink">#</a></p><div class="doc"><p>Muda o estado de um jogador consoante a pe&#231;a em que o jogador embate.</p></div></div><div class="top"><p class="src"><a id="v:pacmanDefaultMegaTime" class="def">pacmanDefaultMegaTime</a> :: Double <a href="#v:pacmanDefaultMegaTime" class="selflink">#</a></p><div class="doc"><p>Tempo em modo Mega do Pacman.</p></div></div><div class="top"><p class="src"><a id="v:setPlayerOrientation" class="def">setPlayerOrientation</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:setPlayerOrientation" class="selflink">#</a></p><div class="doc"><p>Define as coordenadas de um jogador.</p></div></div><div class="top"><p class="src"><a id="v:getPlayerCoordsByID" class="def">getPlayerCoordsByID</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:getPlayerCoordsByID" class="selflink">#</a></p><div class="doc"><p>Devolve as coordenadas de um determinado jogador.</p></div></div><div class="top"><p class="src"><a id="v:verifyNewMega" class="def">verifyNewMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool <a href="#v:verifyNewMega" class="selflink">#</a></p><div class="doc"><p>Verifica se um jogador Pacman entrou em modo Mega.</p></div></div><div class="top"><p class="src"><a id="v:verifyNoMega" class="def">verifyNoMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool <a href="#v:verifyNoMega" class="selflink">#</a></p><div class="doc"><p>Verifica se n&#227;o existe um jogador Pacman em modo Mega.</p></div></div><div class="top"><p class="src"><a id="v:turnGhostsAlive" class="def">turnGhostsAlive</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:turnGhostsAlive" class="selflink">#</a></p><div class="doc"><p>Muda o estado dos fantasmas para Alive.</p></div></div><div class="top"><p class="src"><a id="v:turnGhostsDead" class="def">turnGhostsDead</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:turnGhostsDead" class="selflink">#</a></p><div class="doc"><p>Muda o estado dos fantasmas para Dead.</p></div></div><div class="top"><p class="src"><a id="v:invertOrientation" class="def">invertOrientation</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:invertOrientation" class="selflink">#</a></p><div class="doc"><p>Inverte a oriten&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a id="v:getNewCoords" class="def">getNewCoords</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:getNewCoords" class="selflink">#</a></p><div class="doc"><p>Devolve as novas coordenadas de um jogador consoante a sua orienta&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a id="v:tunnelTeleport" class="def">tunnelTeleport</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:tunnelTeleport" class="selflink">#</a></p><div class="doc"><p>Teletransporta um jogador que entrou no t&#250;nel.</p></div></div><div class="top"><p class="src"><a id="v:middleHeight" class="def">middleHeight</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int <a href="#v:middleHeight" class="selflink">#</a></p><div class="doc"><p>Calcula metade da altura do labirinto</p></div></div><div class="top"><p class="src"><a id="v:middleWidth" class="def">middleWidth</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int <a href="#v:middleWidth" class="selflink">#</a></p><div class="doc"><p>Calcula metade da largura do labirinto</p></div></div><div class="top"><p class="src"><a id="v:mazeWidth" class="def">mazeWidth</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Int <a href="#v:mazeWidth" class="selflink">#</a></p><div class="doc"><p>Calcula a largura total do labirinto</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>